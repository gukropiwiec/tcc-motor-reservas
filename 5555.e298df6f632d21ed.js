"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5555],{4662:(q,f,s)=>{s.d(f,{c:()=>A});var m=s(655),e=s(2096),l=s(9953),d=s(5649),c=s(9800);const t=function(){return["/"]},h=function(){return["/quartos"]},T=function(){return["/promocoes"]},M=function(){return["/sobre"]},x=function(){return["/contato"]};let A=(()=>{class _{constructor(p){this.hotelS=p}ngOnInit(){return(0,m.mG)(this,void 0,void 0,function*(){})}}return _.\u0275fac=function(p){return new(p||_)(e.Y36(l.N))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-footer"]],decls:35,vars:14,consts:[[1,"p-4"],["offsetLg","2"],[1,"cursor-pointer",3,"routerLink"],["color","light",3,"routerLink"],[1,"botton-footer","p-2","text-sm-center"],["sizeXs","12","sizeSm","6"]],template:function(p,g){1&p&&(e.TgZ(0,"ion-footer")(1,"ion-row",0)(2,"ion-col",1)(3,"h4"),e._uU(4,"NOSSOS CONTATOS"),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"p"),e._uU(7),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"p"),e._uU(10),e.qZA()(),e.TgZ(11,"ion-col")(12,"h4"),e._uU(13,"NAVEGA\xc7\xc3O"),e.qZA(),e.TgZ(14,"ul")(15,"li",2),e._uU(16,"HOME"),e.qZA(),e.TgZ(17,"li",2),e._uU(18,"QUARTOS"),e.qZA(),e.TgZ(19,"li",2),e._uU(20,"PROMO\xc7\xd5ES"),e.qZA(),e.TgZ(21,"li",2),e._uU(22,"SOBRE"),e.qZA(),e.TgZ(23,"li",2),e._uU(24,"CONTATOS"),e.qZA()()(),e.TgZ(25,"ion-col")(26,"ion-button",3),e._uU(27,"RESERVAR AGORA"),e.qZA()()(),e.TgZ(28,"ion-row",4)(29,"ion-col",5)(30,"span"),e._uU(31,"\xa9 2022 Resort. All rights reserved"),e.qZA()(),e.TgZ(32,"ion-col",5)(33,"span"),e._uU(34,"Pol\xedtica de Privacidade"),e.qZA()()()()),2&p&&(e.xp6(7),e.hij("Telefone: ",null==g.hotelS.hotel?null:g.hotelS.hotel.phone,""),e.xp6(3),e.hij("Email: ",null==g.hotelS.hotel?null:g.hotelS.hotel.email,""),e.xp6(5),e.Q6J("routerLink",e.DdM(8,t)),e.xp6(2),e.Q6J("routerLink",e.DdM(9,h)),e.xp6(2),e.Q6J("routerLink",e.DdM(10,T)),e.xp6(2),e.Q6J("routerLink",e.DdM(11,M)),e.xp6(2),e.Q6J("routerLink",e.DdM(12,x)),e.xp6(3),e.Q6J("routerLink",e.DdM(13,h)))},directives:[d.fr,d.Nd,d.wI,d.YI,c.rH,d.YG],styles:["ion-footer[_ngcontent-%COMP%]{background-color:#41414d;color:#fff}ion-footer[_ngcontent-%COMP%]   .botton-footer[_ngcontent-%COMP%]{background-color:#363639}"]}),_})()},5555:(q,f,s)=>{s.r(f),s.d(f,{ListaQuartosPageModule:()=>b});var m=s(9808),e=s(4182),l=s(5649),d=s(9800),c=s(655),t=s(2096),h=s(6858),T=s(9953),M=s(3071),x=s(4662);function A(n,u){1&n&&(t.TgZ(0,"ion-button",8),t._uU(1,"Adicionar Quarto"),t.qZA())}function _(n,u){1&n&&(t.TgZ(0,"th",11),t._uU(1,"Op\xe7\xf5es"),t.qZA())}function Z(n,u){if(1&n){const o=t.EpF();t.TgZ(0,"td")(1,"ion-icon",15),t.NdJ("click",function(){t.CHM(o);const i=t.oxw().$implicit;return t.oxw(2).setModalEditarQuartoOpen(!0,i)}),t.qZA(),t.TgZ(2,"ion-icon",16),t.NdJ("click",function(){t.CHM(o);const i=t.oxw().$implicit;return t.oxw(2).setModalTarifaOpen(!0,i.id)}),t.qZA()()}}function p(n,u){if(1&n&&(t.TgZ(0,"tr")(1,"th",14),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.YNc(11,Z,3,0,"td",5),t.qZA()),2&n){const o=u.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(o.id),t.xp6(2),t.Oqu(o.name),t.xp6(2),t.Oqu(o.description),t.xp6(2),t.Oqu(o.quantity),t.xp6(2),t.Oqu(o.capacity),t.xp6(1),t.Q6J("ngIf","Admin"===a.userS.userInfo.role.name)}}function g(n,u){if(1&n&&(t.TgZ(0,"div",9)(1,"table",10)(2,"thead")(3,"tr")(4,"th",11),t._uU(5,"ID"),t.qZA(),t.TgZ(6,"th",11),t._uU(7,"Nome"),t.qZA(),t.TgZ(8,"th",11),t._uU(9,"Descri\xe7\xe3o"),t.qZA(),t.TgZ(10,"th",11),t._uU(11,"Quantidade"),t.qZA(),t.TgZ(12,"th",11),t._uU(13,"Capacidade"),t.qZA(),t.YNc(14,_,2,0,"th",12),t.qZA()(),t.TgZ(15,"tbody"),t.YNc(16,p,12,6,"tr",13),t.qZA()()()),2&n){const o=t.oxw();t.xp6(14),t.Q6J("ngIf","Admin"===o.userS.userInfo.role.name),t.xp6(2),t.Q6J("ngForOf",o.quartos)}}function v(n,u){1&n&&(t.TgZ(0,"div")(1,"b"),t._uU(2,"Nenhum registro encontrado."),t.qZA()())}function C(n,u){if(1&n){const o=t.EpF();t.TgZ(0,"ion-content",17)(1,"div",18)(2,"h4",19),t._uU(3,"Adicionar Novo Quarto"),t.qZA(),t.TgZ(4,"form",20)(5,"ion-item")(6,"ion-label",21),t._uU(7,"Nome"),t.qZA(),t._UZ(8,"ion-input",22),t.qZA(),t.TgZ(9,"ion-item")(10,"ion-label",21),t._uU(11,"Descri\xe7\xe3o"),t.qZA(),t._UZ(12,"ion-input",23),t.qZA(),t.TgZ(13,"ion-item")(14,"ion-label",21),t._uU(15,"Quantidade"),t.qZA(),t._UZ(16,"ion-input",24),t.qZA(),t.TgZ(17,"ion-item")(18,"ion-label",21),t._uU(19,"Capacidade"),t.qZA(),t._UZ(20,"ion-input",25),t.qZA(),t.TgZ(21,"ion-item")(22,"ion-label",21),t._uU(23,"Pre\xe7o"),t.qZA(),t._UZ(24,"ion-input",26),t.qZA(),t.TgZ(25,"ion-item")(26,"ion-label",27),t._uU(27,"Fotos"),t.qZA(),t.TgZ(28,"ion-input",28),t.NdJ("change",function(i){return t.CHM(o),t.oxw().readFiles(i)}),t.qZA()(),t.TgZ(29,"div",29)(30,"ion-button",30),t.NdJ("click",function(){return t.CHM(o),t.oxw().createRoom()}),t._uU(31,"Salvar"),t.qZA(),t.TgZ(32,"ion-button",31),t.NdJ("click",function(){return t.CHM(o),t.oxw().dismissModal()}),t._uU(33,"Cancelar"),t.qZA()()()()()}if(2&n){const o=t.oxw();t.xp6(4),t.Q6J("formGroup",o.formInput)}}function E(n,u){if(1&n){const o=t.EpF();t.TgZ(0,"p")(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span",38),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw(2).excluirFoto(r.id)}),t._uU(4,"Excluir"),t.qZA()()}if(2&n){const o=u.$implicit;t.xp6(2),t.hij("",o.description," - ")}}function U(n,u){if(1&n){const o=t.EpF();t.TgZ(0,"ion-content",17)(1,"div",18)(2,"h4",19),t._uU(3,"Editar Quarto"),t.qZA(),t.TgZ(4,"ion-item")(5,"ion-label",21),t._uU(6,"Nome"),t.qZA(),t.TgZ(7,"ion-input",32),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().formEdit.name=i}),t.qZA()(),t.TgZ(8,"ion-item")(9,"ion-label",21),t._uU(10,"Descri\xe7\xe3o"),t.qZA(),t.TgZ(11,"ion-input",33),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().formEdit.description=i}),t.qZA()(),t.TgZ(12,"ion-item")(13,"ion-label",21),t._uU(14,"Quantidade"),t.qZA(),t.TgZ(15,"ion-input",34),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().formEdit.quantity=i}),t.qZA()(),t.TgZ(16,"ion-item")(17,"ion-label",21),t._uU(18,"Capacidade"),t.qZA(),t.TgZ(19,"ion-input",35),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().formEdit.capacity=i}),t.qZA()(),t.TgZ(20,"ion-item")(21,"ion-label",21),t._uU(22,"Pre\xe7o"),t.qZA(),t.TgZ(23,"ion-input",36),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().formEdit.tariffs[0].price=i}),t.qZA()(),t.TgZ(24,"ion-label",37),t._uU(25,"Fotos"),t.qZA(),t.YNc(26,E,5,1,"p",13),t.TgZ(27,"div",29)(28,"ion-button",30),t.NdJ("click",function(){return t.CHM(o),t.oxw().editarQuarto()}),t._uU(29,"Salvar"),t.qZA(),t.TgZ(30,"ion-button",31),t.NdJ("click",function(){return t.CHM(o),t.oxw().dismissModalEdit()}),t._uU(31,"Cancelar"),t.qZA()()()()}if(2&n){const o=t.oxw();t.xp6(7),t.Q6J("ngModel",o.formEdit.name),t.xp6(4),t.Q6J("ngModel",o.formEdit.description),t.xp6(4),t.Q6J("ngModel",o.formEdit.quantity),t.xp6(4),t.Q6J("ngModel",o.formEdit.capacity),t.xp6(4),t.Q6J("ngModel",o.formEdit.tariffs[0].price),t.xp6(3),t.Q6J("ngForOf",o.formEdit.images)}}function O(n,u){if(1&n){const o=t.EpF();t.TgZ(0,"ion-content",17)(1,"div",18)(2,"h4",19),t._uU(3,"Tarifas"),t.qZA(),t.TgZ(4,"ion-item")(5,"ion-label",21),t._uU(6,"Nome"),t.qZA(),t.TgZ(7,"ion-input",32),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().formEdit.name=i}),t.qZA()(),t.TgZ(8,"ion-item")(9,"ion-label",21),t._uU(10,"Descri\xe7\xe3o"),t.qZA(),t.TgZ(11,"ion-input",33),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().formEdit.description=i}),t.qZA()(),t.TgZ(12,"ion-item")(13,"ion-label",21),t._uU(14,"Quantidade"),t.qZA(),t.TgZ(15,"ion-input",34),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().formEdit.quantity=i}),t.qZA()(),t.TgZ(16,"ion-item")(17,"ion-label",21),t._uU(18,"Capacidade"),t.qZA(),t.TgZ(19,"ion-input",35),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().formEdit.capacity=i}),t.qZA()(),t.TgZ(20,"ion-item")(21,"ion-label",21),t._uU(22,"Pre\xe7o"),t.qZA(),t.TgZ(23,"ion-input",36),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().formEdit.tariffs[0].price=i}),t.qZA()(),t.TgZ(24,"div",29)(25,"ion-button",39),t._uU(26,"Salvar"),t.qZA(),t.TgZ(27,"ion-button",31),t.NdJ("click",function(){return t.CHM(o),t.oxw().dismissModalTarifa()}),t._uU(28,"Cancelar"),t.qZA()()()()}if(2&n){const o=t.oxw();t.xp6(7),t.Q6J("ngModel",o.formEdit.name),t.xp6(4),t.Q6J("ngModel",o.formEdit.description),t.xp6(4),t.Q6J("ngModel",o.formEdit.quantity),t.xp6(4),t.Q6J("ngModel",o.formEdit.capacity),t.xp6(4),t.Q6J("ngModel",o.formEdit.tariffs[0].price)}}const P=[{path:"",component:(()=>{class n{constructor(o,a,i,r,Q,J){this.httpS=o,this.toastController=a,this.alertController=i,this.fb=r,this.hotelS=Q,this.userS=J,this.quartos=[],this.isModalEditarQuartoOpen=!1,this.isModalTarifasOpen=!1,this.formEdit={id:null,name:null,description:null,quantity:null,capacity:null,tariffs:[],hotelId:this.hotelS.hotel.id,images:[]},this.formTarifas={roomId:null,name:null,price:null,description:null,promotional:!1,startDate:null,endDate:null}}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){})}ionViewWillEnter(){return(0,c.mG)(this,void 0,void 0,function*(){yield this.atualizarQuartos(),this.formInput=this.fb.group({name:null,description:null,quantity:null,capacity:null,price:null,hotelId:this.hotelS.hotel.id,photos:null})})}atualizarQuartos(){return(0,c.mG)(this,void 0,void 0,function*(){this.quartos=yield this.httpS.get("room")})}createRoom(){return(0,c.mG)(this,void 0,void 0,function*(){const o=new FormData;o.append("name",this.formInput.value.name),o.append("description",this.formInput.value.description),o.append("quantity",this.formInput.value.quantity),o.append("capacity",this.formInput.value.capacity),o.append("price",this.formInput.value.price),o.append("hotelId",this.formInput.value.hotelId);for(let i=0;i<this.formInput.get("photos").value.length;i++)o.append("photos",this.formInput.get("photos").value[i]);this.formInput.value.name?this.formInput.value.description?this.formInput.value.quantity?this.formInput.value.capacity?this.formInput.value.price?(yield this.httpS.post("room",o))&&(this.atualizarQuartos(),this.modal.dismiss(),this.presentToast("Quarto criado com sucesso!","success"),this.formInput.reset()):this.presentToast("O campo Pre\xe7o \xe9 obrigat\xf3rio","danger"):this.presentToast("O campo Capacidade \xe9 obrigat\xf3rio","danger"):this.presentToast("O campo Quantidade \xe9 obrigat\xf3rio","danger"):this.presentToast("O campo Descri\xe7\xe3o \xe9 obrigat\xf3rio","danger"):this.presentToast("O campo Nome \xe9 obrigat\xf3rio","danger")})}dismissModal(){this.modal.dismiss(),this.formInput.reset()}dismissModalEdit(){this.setModalEditarQuartoOpen(!1)}setModalTarifaOpen(o,a){this.isModalTarifasOpen=o}dismissModalTarifa(){this.setModalTarifaOpen(!1)}deleteRoom(o){return(0,c.mG)(this,void 0,void 0,function*(){yield this.presentAlertConfirm(o)})}readFiles(o){this.formInput.patchValue({photos:o.target.files}),this.formInput.get("photos").updateValueAndValidity()}setModalEditarQuartoOpen(o,a=Object.assign({},this.formEdit)){this.formEdit=a,o||(this.formEdit={id:null,name:null,description:null,quantity:null,capacity:null,tariffs:[],hotelId:this.hotelS.hotel.id,images:[]}),this.isModalEditarQuartoOpen=o}excluirFoto(o){return(0,c.mG)(this,void 0,void 0,function*(){yield this.httpS.delete("room-image",o),this.setModalEditarQuartoOpen(!1),yield this.atualizarQuartos()})}editarQuarto(){return(0,c.mG)(this,void 0,void 0,function*(){yield this.httpS.put("room",this.formEdit,this.formEdit.id),this.presentToast("Informa\xe7\xf5es alteradas com sucesso.","success"),this.setModalEditarQuartoOpen(!1)})}presentToast(o,a){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:o,duration:3e3,color:a})).present()})}presentAlertConfirm(o){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:`Deseja remover o quarto ${o.name}?`,buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:()=>(0,c.mG)(this,void 0,void 0,function*(){yield this.httpS.delete("room",o.id),this.atualizarQuartos(),this.presentToast("Quarto removido com sucesso.","success")})}]})).present()})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(h.O),t.Y36(l.yF),t.Y36(l.Br),t.Y36(e.qu),t.Y36(T.N),t.Y36(M.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-lista-quartos"]],viewQuery:function(o,a){if(1&o&&t.Gf(l.ki,5),2&o){let i;t.iGM(i=t.CRH())&&(a.modal=i.first)}},decls:20,vars:9,consts:[[3,"fullscreen"],[1,"container","mt-5"],[1,"card-background-gray","my-4"],["id","trigger-modal",4,"ngIf"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["trigger","trigger-modal",2,"--max-height","80vh",3,"isOpen"],[3,"isOpen","backdropDismiss"],["id","trigger-modal"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],["name","pencil","color","primary",1,"mx-2","cursor-pointer",2,"font-size","1.5rem",3,"click"],["name","pricetags-outline","color","secondary",1,"mx-2","cursor-pointer",2,"font-size","1.5rem",3,"click"],[1,"background-modal"],[1,"p-5","text-center"],[1,"mb-5"],[3,"formGroup"],["position","floating"],["id","name","formControlName","name"],["id","description","formControlName","description"],["type","number","id","quantity","formControlName","quantity"],["type","number","id","capacity","formControlName","capacity"],["type","number","id","price","formControlName","price"],["position","fixed"],["type","file","accept",".jpg, .jpeg, .png","multiple","",3,"change"],[1,"mt-3"],["color","success",3,"click"],["color","danger",3,"click"],["id","name",3,"ngModel","ngModelChange"],["id","description",3,"ngModel","ngModelChange"],["type","number","id","quantity",3,"ngModel","ngModelChange"],["type","number","id","capacity",3,"ngModel","ngModelChange"],["id","price",3,"ngModel","ngModelChange"],["position","fixed",1,"mt-3"],[1,"text-danger","cursor-pointer",3,"click"],["color","success"]],template:function(o,a){1&o&&(t.TgZ(0,"ion-content",0)(1,"div",1)(2,"h4"),t._uU(3,"QUARTOS CADASTRADOS"),t.qZA(),t.TgZ(4,"ion-row")(5,"ion-col")(6,"ion-card",2)(7,"ion-card-content"),t.YNc(8,A,2,0,"ion-button",3),t.TgZ(9,"ion-card")(10,"ion-card-content"),t.YNc(11,g,17,2,"div",4),t.YNc(12,v,3,0,"div",5),t.qZA()()()()()()(),t.TgZ(13,"ion-modal",6),t.YNc(14,C,34,1,"ng-template"),t.qZA(),t.TgZ(15,"ion-modal",7),t.YNc(16,U,32,6,"ng-template"),t.qZA(),t.TgZ(17,"ion-modal",7),t.YNc(18,O,29,5,"ng-template"),t.qZA(),t._UZ(19,"app-footer"),t.qZA()),2&o&&(t.Q6J("fullscreen",!0),t.xp6(8),t.Q6J("ngIf","Admin"===a.userS.userInfo.role.name),t.xp6(3),t.Q6J("ngIf",a.quartos.length>0),t.xp6(1),t.Q6J("ngIf",0===a.quartos.length),t.xp6(1),t.Q6J("isOpen",!1),t.xp6(2),t.Q6J("isOpen",a.isModalEditarQuartoOpen)("backdropDismiss",!1),t.xp6(2),t.Q6J("isOpen",a.isModalTarifasOpen)("backdropDismiss",!1))},directives:[l.W2,l.Nd,l.wI,l.PM,l.FN,m.O5,l.YG,m.sg,l.gu,l.ki,e._Y,e.JL,e.sg,l.Ie,l.Q$,l.pK,l.j9,e.JJ,e.u,l.as,e.On,x.c],styles:[".card-background-gray[_ngcontent-%COMP%]{background-color:#f0f0f5}h4[_ngcontent-%COMP%]{font-weight:700}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.Bz.forChild(P)],d.Bz]}),n})();var L=s(5642);let b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.ez,e.u5,l.Pc,y,L.K,e.UX]]}),n})()}}]);